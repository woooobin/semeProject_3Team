

CREATE SEQUENCE PROJECT_SEQ 
   INCREMENT BY 1
   START WITH 1
   ;
   
CREATE TABLE MEMBERS(
   userId VARCHAR2(30) NOT NULL,
   password VARCHAR2(30) ,
   userEmail VARCHAR2(100),UNIQUE
   userPhone NUMBER(30),
   address VARCHAR2(100),
   addressLatitude VARCHAR2(30),
   addressLongitude VARCHAR2(30),
   userRole VARCHAR2(10),
   isSeller CHAR(10),
   sellersOpt VARCHAR2(30),
   avatar VARCHAR2(100),
   usernickname VARCHAR2(100)
   username VARCHAR2(100),
   CONSTRAINT MEMBER_PK PRIMARY KEY (userId)
);





ALTER TABLE MEMBERS ADD CONSTRAINT ISSELLERT_CHECK CHECK (ISSELLER IN ('Y','N'));  

ALTER TABLE MEMBERS MODIFY isSeller CHAR(20);

ALTER TABLE MEMBERS ADD CONSTRAINT USEREMAIL_UQ UNIQUE(USEREMAIL);

ALTER TABLE MEMBERS ADD USERENABLED VARCHAR2(10) CONSTRAINT MEMBERS_USERENABLED_CHK CHECK (USERENABLED IN ('Y', 'N'))

//컬럼삭제
ALTER TABLE MEMBERS DROP COLUMN ISSELLER;

SELECT * FROM MEMBERS;
//전체 생성
INSERT INTO MEMBERS (
	userId ,
	password,
	userEmail,
	userPhone,
	address ,
	addressLatitude, 
	addressLongitude,
	userRole ,
	isSeller ,
	sellersOpt,
	avatar,
	usernickname,
	username)
VALUES('조가린','1234', 'SEMI', 004, '세미','111', '111', 'ADMIN', 'Y', '111', '프로필사진','빛가린','그저빛');



DELETE FROM MEMBERS WHERE userid = '사용자8' ;


//회갑생성
INSERT INTO MEMBERS (
	userId ,
	password,
	userEmail,
	userPhone,
	address ,
	addressLatitude, 
	addressLongitude,
	userRole ,
	isSeller ,
	sellersOpt,
	avatar)
VALUES('WB01','123123', 'SEMIMAIL', 010324123, '우리집',NULL, NULL, 'USER', NULL, NULL, '프로필사진');


//전체조회
SELECT USERID, PASSWORD,USEREMAIL,USERPHONE,ADDRESS,ADDRESSLATITUDE,ADDRESSLONGITUDE,USERROLE,ISSELLER,SELLERSOPT,AVATAR,USERNAME
FROM MEMBERS

SELECT * FROM MEMBERS;

//사용자만 조회
SELECT USERID, PASSWORD,USEREMAIL,USERPHONE,ADDRESS,ADDRESSLATITUDE,ADDRESSLONGITUDE,USERROLE,ISSELLER,SELLERSOPT,AVATAR,USERNAME
FROM MEMBERS
WHERE userRole= 'USER';


//로그인
SELECT USERID, PASSWORD,USEREMAIL,USERPHONE,ADDRESS,ADDRESSLATITUDE,ADDRESSLONGITUDE,USERROLE,ISSELLER,SELLERSOPT,AVATAR,USERNAME
FROM MEMBERS
WHERE USERID = 'test1' AND PASSWORD = '1234';

//ID중복체크
SELECT USERID, PASSWORD,USEREMAIL,USERPHONE,ADDRESS,ADDRESSLATITUDE,ADDRESSLONGITUDE,USERROLE,ISSELLER,SELLERSOPT,AVATAR,USERNAME
FROM MEMBERS
WHERE USERID = 'test1';

//정보조회
SELECT USERID, PASSWORD,USEREMAIL,USERPHONE,ADDRESS,ADDRESSLATITUDE,ADDRESSLONGITUDE,USERROLE,ISSELLER,SELLERSOPT,AVATAR,USERNAME
FROM MEMBERS 
WHERE USERID ='test01';

//정보수정

UPDATE MEMBERS 
SET USEREMAIL='user1@MAIL',USER
WHERE USERID = '사용자1';

UPDATE MEMBERS 
SET USERENABLED ='Y'
WHERE USERROLE = 'ADMIN';


//회원가입
INSERT INTO MEMBERS (USERID,PASSWORD,USEREMAIL,USERPHONE,ADDRESS,USERROLE,AVATAR,USERNAME) 
VALUES('test04','1234','wrdfw',01066663333,'걔네집','USER', '빛가린' , '짱이야')



//탈퇴회원 로그인아웃
SELECT USERID USERENABLED FROM MEMBERS
WHERE USERENABLED ='N';






